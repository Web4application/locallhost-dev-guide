<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Localhost Dev Guide — All Modes</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --bg:#0b1220; --card:#071428; --muted:#98a6b3; --accent:#7dd3fc; --glass: rgba(255,255,255,0.03);
    --light-bg:#f6fbff; --light-card:#ffffff; --light-text:#082135;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;padding:18px;background:linear-gradient(180deg,#031324 0%, #071428 100%);color:#e6eef6;
    -webkit-font-smoothing:antialiased;
  }
  .app{max-width:1200px;margin:0 auto;display:flex;flex-direction:column;gap:16px}
  header{display:flex;align-items:center;gap:12px}
  .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#60a5fa);
         display:flex;align-items:center;justify-content:center;font-weight:800;color:#021028;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  h1{font-size:18px;margin:0}
  p.lead{margin:0;color:var(--muted);font-size:13px}

  .toolbar{display:flex;gap:8px;align-items:center;margin-left:auto}
  .btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer;background:linear-gradient(90deg,#034e6a,#0f78a1);color:white;font-weight:600}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 10px;border-radius:10px;cursor:pointer}
  .small{font-size:13px;color:var(--muted)}

  main{display:grid;grid-template-columns: 260px 1fr;gap:14px}
  nav{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 10px 40px rgba(2,6,23,0.6)}
  nav input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit}

  .tabs{margin-top:12px;display:flex;flex-direction:column;gap:8px}
  .tab-btn{padding:10px;border-radius:8px;border:0;background:transparent;color:var(--muted);text-align:left;cursor:pointer}
  .tab-btn.active{color:var(--accent);background:linear-gradient(90deg, rgba(125,211,252,0.06), transparent);font-weight:600}

  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:18px;box-shadow:0 10px 30px rgba(2,6,23,0.6);overflow:auto}
  .card.minimal{padding:22px}
  .muted{color:var(--muted)}
  .code{background:#00111a;padding:12px;border-radius:8px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,"Roboto Mono",monospace;font-size:13px;color:#bfeefe;white-space:pre-wrap;position:relative}
  .copy{position:absolute;right:10px;top:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px;border-radius:6px;cursor:pointer;color:var(--muted)}
  table{width:100%;border-collapse:collapse;margin-top:10px}
  td,th{padding:8px;border-bottom:1px dashed rgba(255,255,255,0.03);text-align:left}
  th{color:var(--muted);font-size:13px}

  /* Console style */
  .console{
    background:#000; color:#9ff7ff; border-radius:10px; padding:12px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
    height:260px; overflow:auto; box-shadow: inset 0 0 40px rgba(0,0,0,0.6);
  }
  .console .line{opacity:0;transform:translateY(6px);animation:appear 320ms forwards}
  @keyframes appear{to{opacity:1;transform:none}}

  /* responsive */
  @media (max-width:1000px){
    main{grid-template-columns: 1fr; padding-bottom:20px}
    nav{order:2}
  }

  /* light mode */
  .light body, .light { color:var(--light-text); background:var(--light-bg) }
  .light .card, .light nav { background: var(--light-card); box-shadow:none; color:var(--light-text) }
  .light .code{background:#f1f7fb;color:#063047}
  .light .ghost{border-color:rgba(6,48,71,0.06); color:#063047}
  .muted.light{color:#355063}
  footer{color:var(--muted);font-size:12px;margin-top:8px}
  .pill{display:inline-block;padding:6px 8px;border-radius:999px;border:1px dashed rgba(255,255,255,0.03);font-size:12px;color:var(--muted)}
  .search-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
  .port-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;background:linear-gradient(90deg, rgba(255,255,255,0.01), transparent)}
  .port-left{display:flex;gap:12px;align-items:center}
  .port-num{font-weight:700;color:var(--accent);min-width:60px}
  .flex-gap{display:flex;gap:8px;align-items:center}
</style>
</head>
<body>
<div class="app" id="root">
  <header>
    <div class="logo">LH</div>
    <div>
      <h1>Localhost Dev Guide</h1>
      <p class="lead">Minimal, Interactive, and Console — all modes in one file. Copy, search, run, repeat.</p>
    </div>

    <div class="toolbar" role="toolbar" aria-label="actions">
      <button class="ghost" id="themeToggle" title="Toggle light / dark">Toggle Theme</button>
      <button class="btn" id="downloadBtn">Download HTML</button>
    </div>
  </header>

  <main>
    <!-- NAV -->
    <nav aria-label="Navigation">
      <input id="navFilter" placeholder="Filter tabs / commands (e.g., kill, 3000)" />
      <div class="tabs" id="tabs" role="tablist" aria-orientation="vertical">
        <button class="tab-btn active" data-tab="interactive" role="tab" aria-selected="true">Interactive Dashboard</button>
        <button class="tab-btn" data-tab="minimal" role="tab">Minimal Docs</button>
        <button class="tab-btn" data-tab="console" role="tab">Console Mode</button>
        <button class="tab-btn" data-tab="ports" role="tab">Ports Reference</button>
        <button class="tab-btn" data-tab="troubleshoot" role="tab">Troubleshooting</button>
        <button class="tab-btn" data-tab="http" role="tab">HTTP Snapshot</button>
      </div>
    </nav>

    <!-- CONTENT AREA -->
    <section style="display:flex;flex-direction:column;gap:12px">
      <!-- INTERACTIVE -->
      <div id="interactive" class="card tab-content" style="">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
          <div>
            <h2 style="margin:0">Interactive Dashboard</h2>
            <div class="small muted">Search ports, copy commands, inspect or prepare kill snippets.</div>
          </div>
          <div style="display:flex;gap:8px">
            <input id="portSearch" placeholder="Search port or service (e.g., react, 5432)" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" />
            <button class="btn" onclick="filterPorts()">Search</button>
          </div>
        </div>

        <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
          <div style="flex:1;min-width:280px">
            <div class="card" style="padding:12px">
              <h4 style="margin:6px 0">Quick Commands</h4>
              <div class="code" id="cmd1">
lsof -i :PORT            # (Mac/Linux) find what's using a port
netstat -ano | findstr :PORT # (Windows) find what's using a port
kill -9 PID                  # (Mac/Linux) kill a process by PID
taskkill /PID PID /F         # (Windows) kill a process by PID
nc -zv localhost PORT        # (Mac/Linux) check if port is open
telnet localhost PORT        # (Windows/Linux) check if port is open
python -m http.server PORT   # start a simple HTTP server (python)
npx http-server -p PORT      # start simple static server (node)
              <button class="copy" data-target="cmd1">Copy</button></div>
            </div>

            <div style="height:12px"></div>

            <div class="card" style="padding:12px">
              <h4 style="margin:6px 0">Actions</h4>
              <div style="display:flex;gap:8px;flex-wrap:wrap">
                <button class="btn" onclick="inspectPort(3000)">Inspect 3000</button>
                <button class="btn" onclick="prepareKill(3000)">Kill 3000</button>
                <button class="ghost" onclick="inspectPort(5173)">Inspect 5173</button>
                <button class="ghost" onclick="prepareKill(5173)">Kill 5173</button>
              </div>
              <div style="height:10px"></div>
              <div class="small muted">Click to copy commands to clipboard. Replace &lt;PID&gt; when required.</div>
            </div>
          </div>

          <div style="flex:2;min-width:320px">
            <div class="card" style="padding:12px">
              <h4 style="margin:6px 0">Ports</h4>
              <div id="portsList" style="display:grid;gap:8px"></div>
            </div>

            <div style="height:12px"></div>

            <div class="card" style="padding:12px">
              <h4 style="margin:6px 0">Framework Snippets</h4>
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
                <div class="code" id="react">
# React (Vite)
npm create vite@latest my-app --template react
cd my-app
npm install
npm run dev # opens on 5173 by default
                <button class="copy" data-target="react">Copy</button></div>

                <div class="code" id="flask">
# Flask
export FLASK_APP=app.py
export FLASK_ENV=development
flask run --port=5000
                <button class="copy" data-target="flask">Copy</button></div>

                <div class="code" id="django">
# Django
python manage.py runserver 8000
                <button class="copy" data-target="django">Copy</button></div>

                <div class="code" id="spring">
# Spring Boot override port
java -jar app.jar --server.port=8081
                <button class="copy" data-target="spring">Copy</button></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- MINIMAL -->
      <div id="minimal" class="card tab-content" style="display:none">
        <h2 style="margin:0">Minimal Docs — Quick Reference</h2>
        <p class="muted small">Printable, copy-friendly reference. Use this when you want the facts fast.</p>

        <h3>Quick Commands</h3>
        <pre style="background:transparent;padding:10px;border-radius:8px;color:inherit;font-family:inherit">
lsof -i :PORT            # Mac/Linux find what's using a port
netstat -ano | findstr :PORT # Windows find what's using a port
kill -9 PID
taskkill /PID PID /F
nc -zv localhost PORT
telnet localhost PORT
python -m http.server PORT
npx http-server -p PORT
        </pre>

        <h3>Common Ports</h3>
        <table>
          <thead><tr><th>Service</th><th>Port</th></tr></thead>
          <tbody>
            <tr><td>React / Express / Rails</td><td>3000</td></tr>
            <tr><td>Spring Boot / Tomcat / Vue.js</td><td>8080</td></tr>
            <tr><td>Django / PHP</td><td>8000</td></tr>
            <tr><td>Angular / Ionic</td><td>4200</td></tr>
            <tr><td>Flask / .NET</td><td>5000</td></tr>
            <tr><td>Vite (dev)</td><td>5173</td></tr>
            <tr><td>MySQL</td><td>3306</td></tr>
            <tr><td>PostgreSQL</td><td>5432</td></tr>
            <tr><td>MongoDB</td><td>27017</td></tr>
            <tr><td>Redis</td><td>6379</td></tr>
          </tbody>
        </table>

        <h3>Troubleshooting One-Liners</h3>
        <pre style="background:transparent;padding:10px;border-radius:8px;color:inherit;font-family:inherit">
# Kill processes using a port (Mac/Linux)
kill -9 $(lsof -t -i:3000)

# Windows
netstat -ano | findstr :3000
taskkill /PID <PID> /F
        </pre>
        <footer class="small muted">Pro tip: Keep backup ports (3001, 8081, 5001, 4201)</footer>
      </div>

      <!-- CONSOLE -->
      <div id="console" class="card tab-content" style="display:none">
        <h2 style="margin:0">Console Mode</h2>
        <div class="small muted">Fake terminal for demos and style — copy outputs below.</div>
        <div style="height:10px"></div>
        <div class="console" id="fakeConsole" aria-live="polite" aria-atomic="false"></div>
        <div style="height:10px"></div>

        <div style="display:flex;gap:8px">
          <input id="fakeCmd" placeholder="Type a fake command (e.g., npm run dev)" style="flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" />
          <button class="btn" onclick="runFakeCmd()">Run</button>
          <button class="ghost" onclick="clearConsole()">Clear</button>
        </div>
      </div>

      <!-- PORTS REFERENCE (detailed) -->
      <div id="ports" class="card tab-content" style="display:none">
        <h2 style="margin:0">Ports Reference</h2>
        <div class="small muted">Click a port to copy inspect/kill snippets.</div>
        <div style="height:10px"></div>
        <div id="portsGrid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:8px"></div>
      </div>

      <!-- TROUBLESHOOT -->
      <div id="troubleshoot" class="card tab-content" style="display:none">
        <h2 style="margin:0">Troubleshooting Center</h2>
        <details open>
          <summary style="cursor:pointer">Port Already In Use</summary>
          <div style="padding:12px 8px">
            <div class="code" id="fix1"><code># Mac/Linux: find PID then kill
lsof -i :PORT
kill -9 PID

# Windows: find PID then kill
netstat -ano | findstr :PORT
tasklist /fi "PID eq <pid>"
taskkill /PID <pid> /F</code>
              <button class="copy" data-target="fix1">Copy</button>
            </div>
          </div>
        </details>
        <details>
          <summary style="cursor:pointer">Connection Refused / Server Not Listening</summary>
          <div style="padding:12px 8px">
            <div class="code"><code># Check listening sockets
ss -tuln     # linux
netstat -an  # mac/windows
# If service is not running: check logs / start your app
</code></div>
          </div>
        </details>
        <details>
          <summary style="cursor:pointer">CORS Errors</summary>
          <div style="padding:12px 8px">
            <div class="code" id="fixCORS"><code># Example (express)
npm i cors
# server.js
const cors = require('cors')
app.use(cors({ origin: 'http://localhost:3000' }))</code>
              <button class="copy" data-target="fixCORS">Copy</button>
            </div>
          </div>
        </details>
      </div>

      <!-- HTTP SNAPSHOT -->
      <div id="http" class="card tab-content" style="display:none">
        <h2 style="margin:0">HTTP Request Snapshot</h2>
        <table>
          <tbody>
            <tr><th>Header</th><th>Value</th></tr>
            <tr><td>User-Agent</td><td>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)...</td></tr>
            <tr><td>Language</td><td>en-GB</td></tr>
            <tr><td>Platform</td><td>MacIntel</td></tr>
            <tr><td>Screen</td><td>375x812</td></tr>
            <tr><td>Referrer</td><td>https://locallhost.dev/4201/</td></tr>
          </tbody>
        </table>

        <div style="height:10px"></div>
        <div class="code" id="curlExample"><code># Example curl reproducing a GET
curl -v -H "Accept: application/json" "http://localhost:3000/api/health"</code>
          <button class="copy" data-target="curlExample">Copy</button></div>
      </div>
    </section>
  </main>

  <footer style="max-width:1200px;margin:0 auto">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div class="small muted">Localhost Dev Guide — built for devs who like shortcuts. © You</div>
      <div class="small muted">Pro tip: use backup ports 3001 / 8081 / 5001</div>
    </div>
  </footer>
</div>

<script>
/* Tab logic */
const tabs = Array.from(document.querySelectorAll('.tab-btn'));
const contents = Array.from(document.querySelectorAll('.tab-content'));
tabs.forEach(btn=>{
  btn.addEventListener('click', ()=> {
    tabs.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    showTab(btn.dataset.tab);
  });
});
function showTab(id){
  contents.forEach(c=> c.style.display = c.id === id ? '' : 'none');
  // focus search fields intelligently
  if(id === 'interactive') document.getElementById('portSearch').focus();
  if(id === 'minimal') window.scrollTo({top:0,behavior:'smooth'});
}

/* Copy buttons */
document.querySelectorAll('.copy').forEach(btn=>{
  btn.addEventListener('click', async (e)=>{
    const target = document.getElementById(btn.dataset.target);
    if(!target) return;
    const text = target.innerText;
    try{
      await navigator.clipboard.writeText(text);
      btn.innerText = 'Copied ✓';
      setTimeout(()=> btn.innerText = 'Copy', 1200);
    }catch(err){
      btn.innerText = 'Failed';
      setTimeout(()=> btn.innerText = 'Copy', 1200);
    }
  });
});

/* Ports data */
const ports = [
  {port:3000, name:'React / Express / Rails (dev)'},
  {port:8080, name:'Spring Boot / Tomcat / Vue.js'},
  {port:8000, name:'Django / PHP'},
  {port:4200, name:'Angular / Ionic'},
  {port:5000, name:'Flask / .NET Core / Python'},
  {port:5173, name:'Vite.js / Vue 3 / React (fast dev)'},
  {port:9000, name:'SonarQube / PHP-FPM / Tomcat'},
  {port:3306, name:'MySQL / MariaDB'},
  {port:5432, name:'PostgreSQL'},
  {port:27017, name:'MongoDB'},
  {port:6379, name:'Redis'},
  {port:3001, name:'React / Node backup'},
  {port:8081, name:'Spring Boot / Tomcat backup'},
  {port:5001, name:'Flask / .NET backup'},
  {port:4201, name:'Angular backup'}
];

function renderPorts(list){
  const container = document.getElementById('portsList');
  container.innerHTML = '';
  list.forEach(p=>{
    const el = document.createElement('div');
    el.className = 'port-item';
    el.innerHTML = `
      <div class="port-left">
        <div class="port-num">${p.port}</div>
        <div>
          <div style="font-weight:600">${p.name}</div>
          <div class="small muted">Click actions to inspect or kill</div>
        </div>
      </div>
      <div class="flex-gap">
        <button class="ghost" onclick="inspectPort(${p.port})">Inspect</button>
        <button class="btn" onclick="prepareKill(${p.port})">Kill</button>
      </div>
    `;
    container.appendChild(el);
  });
  // also render grid view
  const grid = document.getElementById('portsGrid');
  if(grid){
    grid.innerHTML = '';
    list.forEach(p=>{
      const card = document.createElement('div');
      card.className = 'card';
      card.style.padding='10px';
      card.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center">
        <div><strong>${p.port}</strong><div class="small muted">${p.name}</div></div>
        <div style="display:flex;gap:8px">
          <button class="ghost" onclick="inspectPort(${p.port})">Inspect</button>
          <button class="btn" onclick="prepareKill(${p.port})">Kill</button>
        </div>
      </div>`;
      grid.appendChild(card);
    });
  }
}

function filterPorts(){
  const q = document.getElementById('portSearch').value.trim().toLowerCase();
  if(!q){ renderPorts(ports); return; }
  const filtered = ports.filter(p=> String(p.port).includes(q) || p.name.toLowerCase().includes(q));
  renderPorts(filtered.length?filtered:ports);
}

function inspectPort(port){
  const text = `# Inspect port ${port}\n# Mac / Linux\nlsof -i :${port}\n\n# Windows\nnetstat -ano | findstr :${port}`;
  navigator.clipboard.writeText(text).then(()=> alert('Inspect commands copied to clipboard'));
}

function prepareKill(port){
  const text = `# Kill processes using port ${port}\n# Mac / Linux\nkill -9 $(lsof -t -i:${port})\n\n# Windows (use returned PID)\ntaskkill /PID <PID> /F`;
  navigator.clipboard.writeText(text).then(()=> alert('Kill-one-liners copied to clipboard'));
}

/* Nav quick filter */
document.getElementById('navFilter').addEventListener('input', (e)=>{
  const q = e.target.value.trim().toLowerCase();
  tabs.forEach(b=>{
    const txt = b.innerText.toLowerCase();
    b.style.display = txt.includes(q) || q === '' ? '' : 'none';
  });
});

/* Fake console */
const consoleEl = document.getElementById('fakeConsole');
let consoleIndex = 0;
const demoLines = [
  '➜ Starting dev environment...',
  '➜ Running: npm run dev (Vite) on port 5173',
  '  vite v4.5.0 dev server running at:',
  '  > Local: http://localhost:5173/',
  '  > Network: use --host to expose',
  '➜ Watching files for changes...',
  '➜ Build complete. Hot reload enabled.',
  '➜ Checking ports: 3000 -> free, 5000 -> used (PID 12345)',
  '➜ Tip: use kill -9 $(lsof -t -i:5000) to quickly free a port'
];

function typeLine(text, delay=0){
  const idx = consoleIndex++;
  const el = document.createElement('div');
  el.className = 'line';
  el.style.animationDelay = (idx*120 + delay) + 'ms';
  el.innerText = text;
  consoleEl.appendChild(el);
  consoleEl.scrollTop = consoleEl.scrollHeight;
}

function bootConsoleDemo(){
  consoleEl.innerHTML='';
  consoleIndex = 0;
  demoLines.forEach((l,i)=> setTimeout(()=> typeLine(l), i*220));
}
bootConsoleDemo();

function runFakeCmd(){
  const cmd = document.getElementById('fakeCmd').value.trim();
  if(!cmd) return;
  typeLine(`$ ${cmd}`);
  // fake responses
  if(cmd.includes('npm') || cmd.includes('dev')){
    setTimeout(()=> typeLine('> starting dev server...'), 160);
    setTimeout(()=> typeLine('> ready on http://localhost:5173/'), 400);
  } else if(cmd.includes('lsof') || cmd.includes('netstat')){
    setTimeout(()=> typeLine('COMMAND   PID USER   ...'), 160);
    setTimeout(()=> typeLine('node    12345 kubu   ...  LISTEN  *:5000'), 340);
  } else if(cmd.includes('kill')){
    setTimeout(()=> typeLine('SIGKILL sent to PID 12345'), 160);
    setTimeout(()=> typeLine('Process terminated.'), 340);
  } else {
    setTimeout(()=> typeLine('command not found — this is a demo console.'), 160);
  }
  document.getElementById('fakeCmd').value='';
  consoleEl.scrollTop = consoleEl.scrollHeight;
}

function clearConsole(){ consoleEl.innerHTML=''; }

/* Theme toggle & download */
const themeToggle = document.getElementById('themeToggle');
let light = false;
themeToggle.addEventListener('click', ()=>{
  light = !light;
  document.documentElement.classList.toggle('light', light);
});

/* Download HTML */
document.getElementById('downloadBtn').addEventListener('click', ()=> {
  const html = '<!doctype html>\\n' + document.documentElement.outerHTML;
  const blob = new Blob([html], {type: 'text/html'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'localhost-dev-guide.html';
  a.click();
  URL.revokeObjectURL(a.href);
});

/* Copy buttons (global) already handled above for .copy */

// initial render
renderPorts(ports);

/* keyboard shortcuts */
document.addEventListener('keydown', (e)=>{
  if((e.ctrlKey || e.metaKey) && e.key === 'k'){ // cmd/ctrl+k to focus nav filter
    e.preventDefault();
    document.getElementById('navFilter').focus();
  }
});
</script>
</body>
</html>
